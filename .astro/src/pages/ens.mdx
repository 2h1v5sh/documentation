---
layout: ../layouts/MainLayout.astro
section: gettingStarted
date: Last Modified
title: "Chainlink Overview"
excerpt: "Smart Contracts and Chainlink"
whatsnext:
  {
    "Deploy Your First Smart Contract": "/docs/deploy-your-first-contract/",
    "Consuming Data Feeds": "/docs/consuming-data-feeds/",
  }
metadata:
  title: "Conceptual Overview"
  description: "Learn the basic concepts about what smart contracts are and, how to write them, and how Chainlink oracles work with smart contracts."
  image:
    0: "/files/1a63254-link.png"
---

import { EnsLookupForm } from "../features/ens/components/EnsLookupForm.tsx"
import { EnsManualLookupForm } from "../features/ens/components/EnsManualLookupForm.tsx"

# Lookup

<EnsLookupForm client:idle />

# Manual Lookup

<EnsManualLookupForm client:idle />

# Naming Structure

Chainlink data feeds fall under the `data.eth` naming suffix. To obtain a specific feed address, prefix this with the assets in the feed, separated by a dash (-).

| Pair      | ENS Domain Name    |
| :-------- | :----------------- |
| ETH / USD | `eth-usd.data.eth` |
| BTC / USD | `btc-usd.data.eth` |
| ...       | `...`              |

## Subdomains

By default, the base name structure (`eth-usd.data.eth`) returns the proxy address for that feed. However, subdomains enable callers to retrieve other associated contract addresses, as shown in the following table.

| Contract Addresses    | Subdomain Prefix | Example                       |
| :-------------------- | :--------------- | :---------------------------- |
| Proxy                 | `proxy`          | `proxy.eth-usd.data.eth`      |
| Underlying aggregator | `aggregator`     | `aggregator.eth-usd.data.eth` |
| Proposed aggregator   | `proposed`       | `proposed.eth-usd.data.eth`   |

# Architecture

## Resolver

For each network, there is a single Chainlink resolver, which does not change. Its address can be obtained using the `data.eth` domain. This resolver manages the subdomains associated with `data.eth`.

| Network          | Resolver Address                                                                                                                                       |
| :--------------- | :----------------------------------------------------------------------------------------------------------------------------------------------------- |
| Ethereum Mainnet | <a href="https://app.ens.domains/address/0x122eb74f9d0F1a5ed587F43D120C1c2BbDb9360B/" target="_blank">`0x122eb74f9d0F1a5ed587F43D120C1c2BbDb9360B`</a> |

## Listening for Address Changes

When a new aggregator is deployed for a specific feed, it is first proposed, and when accepted becomes the aggregator for that feed. During this process, the `proposed` and `aggregator` subdomains for that feed will change. With each change, the resolver emits an `AddrChanged` event, using the feed subdomain (for example: `eth-usd.data.eth`) as the indexed parameter.

**Example**: If you want to listen for when the aggregator of the ETH / USD feed changes, set up a listener to track the `AddrChanged` event on the resolver, using a filter like this: `ethers.utils.namehash('aggregator.eth-usd.data.eth')`.

# Obtaining Addresses

> ðŸš§ Reverse Lookup
>
> Reverse lookup is not supported.

:::warning[Reverse Lookup]

Reverse lookup is not supported.

:::

## Javascript

The example below uses Javascript Web3 library to interact with ENS. See the <a href="https://docs.ens.domains/dapp-developer-guide/resolving-names" target="_blank">ENS documentation</a> for the full list of languages and libraries libraries that support ENS.

This example logs the address of the data feed on the Ethereum mainnet for ETH / USD prices.

```javascript
{% include 'samples/PriceFeeds/ENSConsumer.js' %}
```

## Solidity

In Solidity, the address of the ENS registry must be known. According to <a href="https://docs.ens.domains/ens-deployments" target="_blank">ENS documentation</a>, this address is the same across Mainnet, Ropsten, Rinkeby and Goerli networks:

ENS registry address: <a href="https://etherscan.io/address/0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e" target="_blank">`0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e`</a>.

Also, instead of using readable string names like `eth-usd.data.eth`, resolvers accept bytes32 hash IDs for names. Hash IDs can be retrieved from <a href="https://thegraph.com/explorer/subgraph/ensdomains/ens" target="_blank">this subgraph</a> or via this npm package <a href="https://www.npmjs.com/package/@ensdomains/eth-ens-namehash" target="_blank">eth-ens-namehash</a>.

"ETH / USD" hash: `0xf599f4cd075a34b92169cf57271da65a7a936c35e3f31e854447fbb3e7eb736d`

::solidity-remix[/samples/PriceFeeds/ENSConsumer.sol]
